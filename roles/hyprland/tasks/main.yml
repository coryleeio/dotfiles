- name: make sure packages are installed
  package:
    name:
      - hyprland
      - thunar
      - wofi
      - ttf-font-awesome
      - waybar
      - swaync
      - hyprlock
      - hypridle
    state: present
  become: yes

- name: Install hyprshot via AUR
  kewlfft.aur.aur:
    name: hyprshot
    use: makepkg
    state: present
  become: yes
  become_user: aur_builder

# https://github.com/Alexays/Waybar
# https://github.com/Alexays/Waybar/wiki
- name: create waybar config directory
  file:
    path: ~/.config/waybar
    state: directory

- name: symlink config files for waybar
  file:
    src: "{{ ansible_env.PWD }}/roles/hyprland/files/waybar/{{ item }}"
    path: "~/.config/waybar/{{ item }}"
    state: link
    follow: false
    force: yes
  loop:
    - config.jsonc

- name: create hyprland config directory
  file:
    path: ~/.config/hypr
    state: directory


- name: symlink config files for hyprland
  file:
    src: "{{ ansible_env.PWD }}/roles/hyprland/files/{{ item }}"
    path: "~/.config/hypr/{{ item }}"
    state: link
    follow: false
    force: yes
  loop:
    - hyprland.conf
    - hyprlock.conf
    - hypridle.conf
